# Blog SWITTER

Blog SWITTER — это Fullstack приложение для блога.

## Технологии

### Backend
- [.NET 8.0](https://dotnet.microsoft.com/download/dotnet/8.0) - платформа для разработки
- [ASP.NET Core](https://dotnet.microsoft.com/apps/aspnet) - фреймворк для создания веб-приложений
- [Entity Framework Core](https://docs.microsoft.com/en-us/ef/core/) - ORM для работы с базами данных

### Frontend
- [React](https://react.dev/) - библиотека для пользовательских интерфейсов
- [Bootstrap](https://getbootstrap.com/) - библиотека для пользовательских интерфейсов

## Библиотеки
### Backend
- Для использования NoSQL базы данных:
```
dotnet add package LiteDB
```
- Для аутентификации с использованием JWT:
```
dotnet add package Microsoft.AspNetCore.Authentication.JwtBearer
```
- Для работы с SqlServer через Entity Framework Core:
```
dotnet add package Microsoft.EntityFrameworkCore.SqlServer
```
- Для инструментов разработки Entity Framework Core:
```
dotnet add package Microsoft.EntityFrameworkCore.Tools
```
- Для серилизации и десериализации JSON:
```
dotnet add package Newtonsoft.Json
```
- Для нормальной работы Swagger:
```
dotnet add package Swashbuckle.AspNetCore
```
### Frontend
- Для установки получения стилей пользовательского интерфейса:
```
npm i bootstrap
```

## Установка

1. Клонируйте репозиторий:
```
git clone https://github.com/shirokikhdo/Blog.git
cd Blog
```

2. Восстановите зависимости:

```
dotnet restore
```

3. Создайте базу данных и примените миграции:

```
dotnet ef database update
```
   
4. Запустите Backend приложение:

```
dotnet run
```

5. Запустите Frontend приложение:

```
npm start
```

## API Endpoints

### Account - контроллер для управления учетными записями пользователей.
 - **GET /api/Account**
	- **Описание:** Получает профиль текущего пользователя.
	- **Ответы:**
		- 200 OK: Профиль пользователя
		- 404 Not Found: Профиль не найден
- **POST /api/Account**
	- **Описание:** Создает нового пользователя.
    - **Тело запроса:** `UserModel`
	- **Ответы:**
		- 200 OK: Пользователь создан
- **PATCH /api/Account**
	- **Описание:** Обновляет информацию о текущем пользователе.
    - **Тело запроса:** `UserModel`
	- **Ответы:**
		- 200 OK: Обновленный пользователь
        - 400 Bad Request: Ошибка обновления пользователя
- **DELETE /api/Account**
	- **Описание:** Удаляет текущего пользователя.
	- **Ответы:**
		- 200 OK: Результат выполнения
        - 404 Not Found: Текущий пользователь не найден
- **POST /api/Account/token**
	- **Описание:** Получает токен аутентификации для пользователя.
	- **Ответы:**
		- 200 OK: Токен аутентификации
        - 404 Not Found: Неправильный логин или пароль

### News - контроллер для управления новостями.
 - **GET /api/News/{userId}**
	- **Описание:** Получает список новостей по идентификатору автора.
	- **Ответы:**
		- 200 OK: Список новостей
- **GET /api/News**
	- **Описание:** Получает все новости для текущего пользователя.
	- **Ответы:**
		- 200 OK: Список новостей
        - 404 Not Found: Текущий пользователь не найден
- **POST /api/News**
	- **Описание:** Создает новую новость.
    - **Тело запроса:** `NewsModel`
	- **Ответы:**
		- 200 OK: Созданная новость
        - 404 Not Found: Текущий пользователь не найден
- **POST /api/News/random**
	- **Описание:** Создает несколько новостей для администратора.
    - **Тело запроса:** `List<NewsModel>`
	- **Ответы:**
		- 200 OK: Созданные новости
        - 400 Bad Request: Текущий пользователь не является администратором
        - 404 Not Found: Текущий пользователь не найден
- **PATCH /api/News**
	- **Описание:** Обновляет существующую новость.
    - **Тело запроса:** `NewsModel`
	- **Ответы:**
		- 200 OK: Обновленная новость
        - 400 Bad Request: Ошибка обновления новости
- **DELETE /api/News/{newsId}**
	- **Описание:** Удаляет новость по идентификатору.
	- **Ответы:**
		- 200 OK: Результат выполнения
        - 404 Not Found: Текущий пользователь не найден
- **POST /api/News/like/{newsId}**
	- **Описание:** Устанавливает лайк на новость.
	- **Ответы:**
		- 200 OK: Результат выполнения
        - 404 Not Found: Неправильный логин или пароль

### Users - контроллер для управления пользователями.
 - **GET /api/Users/all/{name}**
	- **Описание:** Получает список пользователей по имени.
	- **Ответы:**
		- 200 OK: Список пользователей
- **GET /api/Users/{userId}**
	- **Описание:** Получает профиль пользователя по его идентификатору.
	- **Ответы:**
		- 200 OK: Профиль пользователя
- **POST /api/Users/subscribe/{userId}**
	- **Описание:** Подписывает текущего пользователя на другого пользователя.
	- **Ответы:**
		- 200 OK: Результат выполнения
        - 400 Bad Request: Текущий пользователь не может подписаться сам на себя
        - 404 Not Found: Текущий пользователь не найден
- **POST /api/Users/random**
	- **Описание:** Создает нескольких пользователей. Доступно только для администратора.
    - **Тело запроса:** `List<UserModel>`
	- **Ответы:**
		- 200 OK: Созданные пользователи
        - 400 Bad Request: Текущий пользователь не является администратором
        - 404 Not Found: Текущий пользователь не найден